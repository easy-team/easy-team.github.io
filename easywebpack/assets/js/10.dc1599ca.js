(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{148:function(a,e,t){"use strict";t.r(e);var p=t(0),s=Object(p.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"升级指南"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#升级指南"}},[a._v("#")]),a._v(" 升级指南")]),a._v(" "),t("p",[a._v("Webpack 3 到 Webpack 4 经过重大更新，对应 easwebpack3 到 easywebpack4 也有相对性的更新，主要包括以下3点：")]),t("ul",[t("li",[t("p",[a._v("Webpack 版本升级导致的配置优化和优化修改")])])]),t("ul",[t("li",[t("p",[a._v("easywebpack 新特性支持和配置简化")])])]),t("ul",[t("li",[t("p",[a._v("easywebpack 遗留问题修复以及去掉历史兼容 hack 代码")])])]),a._v(" "),t("h2",{attrs:{id:"一键升级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一键升级"}},[a._v("#")]),a._v(" 一键升级")]),a._v(" "),t("p",[a._v("最新 "),t("code",[a._v("easywebpack-cli")]),a._v("  提供一键升级命令： "),t("code",[a._v("easy upgrade")]),a._v("  主要升级 easywebpack 相关解决方案插件和 Webpack 相关第三方插件， 部分配置需要先确认，然后手动修改。 如果是 Egg 项目请运行 "),t("code",[a._v("easy upgrade --egg")])]),a._v(" "),t("h3",{attrs:{id:"依赖升级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#依赖升级"}},[a._v("#")]),a._v(" 依赖升级")]),a._v(" "),t("table",{staticClass:"lake-table",staticStyle:{width:"829px"}},[t("colgroup",[t("col",{attrs:{width:"297"}}),t("col",{attrs:{width:"241"}}),t("col",{attrs:{width:"291"}})]),t("tbody",[t("tr",[t("td",[t("p",[t("strong",[a._v("easywebpack3")])])]),t("td",[t("p",[t("strong",[a._v("easywebpack4")])])]),t("td",[t("p",[t("strong",[a._v("升级方式")])])])]),t("tr",[t("td",[t("p",[a._v("easywepback@3.x.x")])]),t("td",[t("p",[a._v("easywepback@4.x.x")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("easywepback-vue@3.x.x")])]),t("td",[t("p",[a._v("easywepback-vue@4.x.x")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("easywepback-react@3.x.x")])]),t("td",[t("p",[a._v("easywepback-react@4.x.x")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("easywebpack-js@3.x.x")])]),t("td",[t("p",[a._v("easywebpack-html@4.x.x")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("easywebpack-html@3.x.x")])]),t("td",[t("p",[a._v("easywebpack-js@4.x.x")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("webpack-tool@3.x.x")])]),t("td",[t("p",[a._v("webpack-tool@4.x.x")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("webpack-manifest-resource-plugin@2.x.x")])]),t("td",[t("p",[a._v("webpack-manifest-resource-plugin@4.x.x")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td"),t("td"),t("td")])])]),a._v(" "),t("h3",{attrs:{id:"依赖修改"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#依赖修改"}},[a._v("#")]),a._v(" 依赖修改")]),a._v(" "),t("p",[a._v("项目"),t("code",[a._v("package.json")]),a._v("  文件依赖修改")]),t("table",{staticClass:"lake-table",staticStyle:{width:"750px"}},[t("colgroup",[t("col",{attrs:{width:"306"}}),t("col",{attrs:{width:"222"}}),t("col",{attrs:{width:"222"}})]),t("tbody",[t("tr",[t("td",[t("p",[t("strong",[a._v("easywebpack3")])])]),t("td",[t("p",[t("strong",[a._v("easywebpack4")])])]),t("td",[t("p",[t("strong",[a._v("升级方式")])])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 autoprefixer ")])]),t("td",[t("p",[a._v("easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 babel-core")])]),t("td",[t("p",[a._v("easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 babel-loader")])]),t("td",[t("p",[a._v("easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 babel-eslint")])]),t("td",[t("p",[a._v("easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 postcss-loader")])]),t("td",[t("p",[a._v("easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 eslint-loader")])]),t("td",[t("p",[a._v("easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 html-webpack-plugin")])]),t("td",[t("p",[a._v("easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("​项目依赖 html-webpack-plugin")])]),t("td",[t("p",[a._v("​easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("​easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 directory-named-webpack-plugin")])]),t("td",[t("p",[a._v("​easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 progress-bar-webpack-plugin")])]),t("td",[t("p",[a._v("​easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 uglifyjs-webpack-plugin")])]),t("td",[t("p",[a._v("​easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 webpack-manifest-resource-plugin")])]),t("td",[t("p",[a._v("​easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 server-side-render-resource")])]),t("td",[t("p",[a._v("​easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 vue-template-compiler")])]),t("td",[t("p",[a._v("​easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 vue-server-renderer")])]),t("td",[t("p",[a._v("​easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 babel-plugin-add-module-exports")])]),t("td",[t("p",[a._v("easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 babel-plugin-syntax-dynamic-import")])]),t("td",[t("p",[a._v("easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 babel-plugin-transform-object-assign")])]),t("td",[t("p",[a._v("easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 babel-plugin-transform-object-rest-spread")])]),t("td",[t("p",[a._v("easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 babel-plugin-transform-runtime")])]),t("td",[t("p",[a._v("easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 babel-preset-env")])]),t("td",[t("p",[a._v("easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])]),t("tr",[t("td",[t("p",[a._v("项目依赖 babel-plugin-import")])]),t("td",[t("p",[a._v("easywebpack方案依赖，项目package.json 无需显示依赖")])]),t("td",[t("p",[a._v("easy upgrade")])])])])]),a._v(" "),t("h2",{attrs:{id:"webpack-config-js-配置修改"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-config-js-配置修改"}},[a._v("#")]),a._v(" webpack.config.js 配置修改")]),a._v(" "),t("table",{staticClass:"lake-table",staticStyle:{width:"750px"}},[t("colgroup",[t("col",{attrs:{width:"220"}}),t("col",{attrs:{width:"220"}}),t("col",{attrs:{width:"90"}}),t("col",{attrs:{width:"220"}})]),t("tbody",[t("tr",[t("td",[t("p",[t("strong",[a._v("easywebpack3")])])]),t("td",[t("p",[t("strong",[a._v("easywebpack4")])])]),t("td",[t("p",[a._v("修改说明")])]),t("td",[t("p",[t("strong",[a._v("升级方式")])])])]),t("tr",[t("td",[t("p",[a._v("plugins.buildfile ")])]),t("td",[t("p",[a._v("不需要，移除该配置")])]),t("td",[t("p",[a._v("配置简化")])]),t("td",[t("p",[a._v("如有，暂手动修改")])])]),t("tr",[t("td",[t("p",[a._v("plugins.manifest")])]),t("td",[t("p",[a._v("不需要，移除该配置")])]),t("td",[t("p",[a._v("配置简化")])]),t("td",[t("p",[a._v("如有，暂手动修改")])])]),t("tr",[t("td",[t("p",[a._v("plugins.manifestDeps")])]),t("td",[t("p",[a._v("不需要，移除该配置")])]),t("td",[t("p",[a._v("配置简化")])]),t("td",[t("p",[a._v("如有，暂手动修改")])])]),t("tr",[t("td",[t("p",[a._v("cache: true")])]),t("td",[t("p",[a._v("compile:{"),t("br"),a._v("    thread: true, // 多进程编译"),t("br"),a._v("    cache: true   // 启动编译缓存"),t("br"),a._v(" }")])]),t("td",[t("p",[a._v("配置增强")]),t("p",[a._v("4.9.0 已默认开启")])]),t("td",[t("p",[a._v("如有，请暂手动修改")]),t("p",[t("a",{attrs:{href:"https://www.yuque.com/hubcarl/easywebpack/speed",target:"_blank"}},[a._v("https://www.yuque.com/hubcarl/easywebpack/speed")])])])]),t("tr",[t("td",[t("p",[a._v("cssModule:{")]),t("p",[a._v("  include: ['src/page/css']")]),t("p",[a._v("}")])]),t("td",[t("p",[t("strong",[a._v("依然支持3的方式，但可以简化")])]),t("ul",[t("li",[t("p",[a._v("把 css module 的 样式文件改成 /\\.module\\(css|less|scss|stylus)/ 规范，这样就无需配置")])])]),t("ul",[t("li",[t("p",[a._v("easywebpack4 默认提供"),t("br"),a._v("/\\.module\\.(css|less|scss|stylus)/ 的文件规范的 CSS Module 特性 "),t("br")])])])]),t("td",[t("p",[a._v("配置简化")])]),t("td",[t("p",[a._v("如有，请暂手动修改")])])]),t("tr",[t("td",[t("p",[a._v("cdn:UPLOAD_CDN ? { url: 'http://xxx.cdn.com/public/' }: {},")])]),t("td",[t("ul",[t("li",[t("p",[a._v("无需通过变量控制是否配置 CDN地址，开发模式即使配置不起作用，只有在 test 和 prod 构建模式才起作用")])])]),t("ul",[t("li",[t("p",[a._v("配置无需配置 Object 类型，可以直接配置一个 CDN的 URL 地址，也就是支持同时String")])])])]),t("td",[t("p",[a._v("配置简化")])]),t("td",[t("p",[a._v("如有，请暂手动修改")])])])])]),a._v(" "),t("h2",{attrs:{id:"版本说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#版本说明"}},[a._v("#")]),a._v(" 版本说明")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("easywebpack4: "),t("a",{attrs:{href:"https://www.yuque.com/hubcarl/easywebpack/v4",target:"_blank"}},[a._v("https://www.yuque.com/hubcarl/easywebpack/v4")])])])]),t("ul",[t("li",[t("p",[a._v("easywebpack3: "),t("a",{attrs:{href:"https://www.yuque.com/hubcarl/easywebpack/v3",target:"_blank"}},[a._v("https://www.yuque.com/hubcarl/easywebpack/v3")])])])])])}),[],!1,null,null,null);e.default=s.exports}}]);