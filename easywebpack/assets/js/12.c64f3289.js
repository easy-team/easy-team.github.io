(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{182:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"开发服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发服务"}},[t._v("#")]),t._v(" 开发服务")]),t._v(" "),s("p",[t._v("    easywebpack 整个体系提供的开发构建服务是基于 koa 实现的，用于支持各种类型项目(服务端渲染，前端渲染，静态页面，本地内存编译等)，实现了 内存编译，热更新，发布编译，"),s("a",{attrs:{href:"https://webpack.js.org/configuration/dev-server/#devserver-proxy",target:"_blank"}},[t._v("代理")]),t._v("，"),s("a",{attrs:{href:"https://webpack.js.org/configuration/dev-server/#devserver-historyapifallback",target:"_blank"}},[t._v("historyApiFallback")]),t._v("等功能，"),s("span",{staticStyle:{color:"#F5222D"}},[t._v("其中代理和")]),s("span",{staticStyle:{color:"#F5222D"}},[t._v("historyApiFallback")]),s("span",{staticStyle:{color:"#F5222D"}},[t._v("配置只在纯前端项目起作用")]),t._v("。具体实现请见 "),s("a",{attrs:{href:"https://github.com/easy-team/webpack-tool",target:"_blank"}},[t._v("webpack-tool ")]),t._v("插件。"),s("span",[t._v(" easywebpack-cli ")]),t._v(" 和 "),s("a",{attrs:{href:"https://github.com/easy-team/egg-webpack",target:"_blank"}},[t._v("egg-webpack")]),t._v(" 都依赖该插件。")]),s("ul",[s("li",[s("p",[s("span",{staticStyle:{color:"#262626"}},[t._v("koa-webpack-hot-middleware")])])])]),s("ul",[s("li",[s("p",[s("span",{staticStyle:{color:"#262626"}},[t._v("koa-webpack-dev-middleware")])])])]),s("ul",[s("li",[s("p",[s("span",{staticStyle:{color:"#262626"}},[t._v("koa-history-api-fallback: ")]),s("a",{attrs:{href:"https://webpack.js.org/configuration/dev-server/#devserver-historyapifallback",target:"_blank"}},[t._v("https://webpack.js.org/configuration/dev-server/#devserver-historyapifallback")])])])]),s("ul",[s("li",[s("p",[s("span",{staticStyle:{color:"#262626"}},[t._v("http-proxy: ")]),s("a",{attrs:{href:"https://webpack.js.org/configuration/dev-server/#devserver-proxy",target:"_blank"}},[t._v("https://webpack.js.org/configuration/dev-server/#devserver-proxy")])])])]),s("ul",[s("li",[s("p",[t._v("webpack")])])]),t._v(" "),s("h2",{attrs:{id:"纯前端渲染项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#纯前端渲染项目"}},[t._v("#")]),t._v(" 纯前端渲染项目")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//${root}/webpack.config.js")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\nentry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/index.js'")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   rules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n plugins"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n devServer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n   open"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://127.0.0.1:8888'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://webpack.js.org/configuration/dev-server/#devserver-before")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("before")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("before")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// register koa middleware")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://webpack.js.org/configuration/dev-server/#devserver-after")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("after")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("app")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// register koa middleware")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://webpack.js.org/configuration/dev-server/#devserver-proxy")]),t._v("\n   proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:3000'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       pathRewrite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^/api'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://webpack.js.org/configuration/dev-server/#devserver-historyapifallback")]),t._v("\n   historyApiFallback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/app.html'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认 index.html")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n")])])]),s("h2",{attrs:{id:"服务端渲染项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务端渲染项目"}},[t._v("#")]),t._v(" 服务端渲染项目")]),t._v(" "),s("p",{staticStyle:{"padding-left":"2em"}},[t._v("Egg 服务端渲染项目时，devServer 配置是无需的，即使配置了也无效。代理和historyApiFallback通过项目的 Node 服务处理。")])])}),[],!1,null,null,null);a.default=e.exports}}]);